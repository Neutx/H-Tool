{
  "_meta": {
    "models": {
      "customer": "The authenticated customer viewing the portal, identified by phone number.",
      "orders": "Customer orders from Shopify with full details including items, amounts, dates, and shipping information.",
      "lineItems": "Individual products within each order, showing SKU, title, quantity, and price.",
      "cancellationRequests": "Active cancellation requests initiated by the customer, showing current status and details.",
      "cancellationRecords": "Completed cancellation history with refund details, status timeline, and final outcomes.",
      "notifications": "In-app alerts for status changes like cancellation approvals, refund processing, and updates.",
      "refundTransactions": "Refund transaction details linked to cancellations, showing amount, status, and processing timeline."
    },
    "relationships": [
      "Customer has many Orders",
      "Each Order contains multiple LineItems (the products in the order)",
      "CancellationRequest references one Order and is initiated by the Customer",
      "CancellationRecord is created from a CancellationRequest and references one Order",
      "RefundTransaction is linked to a CancellationRecord and shows the refund processing status",
      "Notifications are created for the Customer when cancellation or refund status changes"
    ]
  },
  "customer": {
    "id": "cust-12345",
    "phoneNumber": "+91 98765 43210",
    "name": "Rajesh Kumar",
    "email": "rajesh.kumar@example.com",
    "isAuthenticated": true,
    "authenticatedAt": "2024-01-15T10:30:00Z"
  },
  "orders": [
    {
      "id": "order-1001",
      "orderNumber": "#1001",
      "status": "open",
      "fulfillmentStatus": "unfulfilled",
      "paymentStatus": "paid",
      "financialStatus": "paid",
      "totalPrice": 2499.00,
      "subtotalPrice": 2199.00,
      "totalTax": 300.00,
      "totalShipping": 0.00,
      "createdAt": "2024-01-15T08:15:00Z",
      "updatedAt": "2024-01-15T08:15:00Z",
      "shippingAddress": {
        "name": "Rajesh Kumar",
        "address1": "123 MG Road",
        "address2": "Apt 4B",
        "city": "Bangalore",
        "state": "Karnataka",
        "zip": "560001",
        "country": "India",
        "phone": "+91 98765 43210"
      },
      "canCancel": true,
      "timeWindowStatus": "within_15min",
      "lineItems": [
        {
          "id": "line-1001-1",
          "productId": "prod-501",
          "sku": "TSHIRT-BLUE-M",
          "title": "Premium Cotton T-Shirt - Blue",
          "variant": "Blue / Medium",
          "quantity": 2,
          "price": 999.00,
          "totalPrice": 1998.00
        },
        {
          "id": "line-1001-2",
          "productId": "prod-502",
          "sku": "JEANS-DARK-32",
          "title": "Slim Fit Jeans - Dark Blue",
          "variant": "Dark Blue / 32",
          "quantity": 1,
          "price": 201.00,
          "totalPrice": 201.00
        }
      ]
    },
    {
      "id": "order-1002",
      "orderNumber": "#1002",
      "status": "pending",
      "fulfillmentStatus": "unfulfilled",
      "paymentStatus": "authorized",
      "financialStatus": "authorized",
      "totalPrice": 1599.00,
      "subtotalPrice": 1399.00,
      "totalTax": 200.00,
      "totalShipping": 0.00,
      "createdAt": "2024-01-14T14:30:00Z",
      "updatedAt": "2024-01-14T14:30:00Z",
      "shippingAddress": {
        "name": "Rajesh Kumar",
        "address1": "123 MG Road",
        "address2": "Apt 4B",
        "city": "Bangalore",
        "state": "Karnataka",
        "zip": "560001",
        "country": "India",
        "phone": "+91 98765 43210"
      },
      "canCancel": true,
      "timeWindowStatus": "within_1hour",
      "lineItems": [
        {
          "id": "line-1002-1",
          "productId": "prod-503",
          "sku": "SHOES-SPORTS-9",
          "title": "Running Shoes - White",
          "variant": "White / Size 9",
          "quantity": 1,
          "price": 1399.00,
          "totalPrice": 1399.00
        }
      ]
    },
    {
      "id": "order-1003",
      "orderNumber": "#1003",
      "status": "open",
      "fulfillmentStatus": "unfulfilled",
      "paymentStatus": "paid",
      "financialStatus": "paid",
      "totalPrice": 3499.00,
      "subtotalPrice": 3199.00,
      "totalTax": 300.00,
      "totalShipping": 0.00,
      "createdAt": "2024-01-13T10:00:00Z",
      "updatedAt": "2024-01-13T10:00:00Z",
      "shippingAddress": {
        "name": "Rajesh Kumar",
        "address1": "123 MG Road",
        "address2": "Apt 4B",
        "city": "Bangalore",
        "state": "Karnataka",
        "zip": "560001",
        "country": "India",
        "phone": "+91 98765 43210"
      },
      "canCancel": true,
      "timeWindowStatus": "within_24hours",
      "lineItems": [
        {
          "id": "line-1003-1",
          "productId": "prod-504",
          "sku": "WATCH-LEATHER",
          "title": "Leather Strap Watch",
          "variant": "Brown Leather",
          "quantity": 1,
          "price": 3199.00,
          "totalPrice": 3199.00
        }
      ]
    },
    {
      "id": "order-1004",
      "orderNumber": "#1004",
      "status": "cancelled",
      "fulfillmentStatus": "unfulfilled",
      "paymentStatus": "refunded",
      "financialStatus": "refunded",
      "totalPrice": 899.00,
      "subtotalPrice": 799.00,
      "totalTax": 100.00,
      "totalShipping": 0.00,
      "createdAt": "2024-01-12T16:45:00Z",
      "updatedAt": "2024-01-12T17:20:00Z",
      "cancelledAt": "2024-01-12T17:20:00Z",
      "shippingAddress": {
        "name": "Rajesh Kumar",
        "address1": "123 MG Road",
        "address2": "Apt 4B",
        "city": "Bangalore",
        "state": "Karnataka",
        "zip": "560001",
        "country": "India",
        "phone": "+91 98765 43210"
      },
      "canCancel": false,
      "timeWindowStatus": "cancelled",
      "lineItems": [
        {
          "id": "line-1004-1",
          "productId": "prod-505",
          "sku": "BAG-CANVAS",
          "title": "Canvas Backpack",
          "variant": "Gray",
          "quantity": 1,
          "price": 799.00,
          "totalPrice": 799.00
        }
      ]
    },
    {
      "id": "order-1005",
      "orderNumber": "#1005",
      "status": "fulfilled",
      "fulfillmentStatus": "fulfilled",
      "paymentStatus": "paid",
      "financialStatus": "paid",
      "totalPrice": 1999.00,
      "subtotalPrice": 1799.00,
      "totalTax": 200.00,
      "totalShipping": 0.00,
      "createdAt": "2024-01-10T09:00:00Z",
      "updatedAt": "2024-01-11T14:30:00Z",
      "fulfilledAt": "2024-01-11T14:30:00Z",
      "shippingAddress": {
        "name": "Rajesh Kumar",
        "address1": "123 MG Road",
        "address2": "Apt 4B",
        "city": "Bangalore",
        "state": "Karnataka",
        "zip": "560001",
        "country": "India",
        "phone": "+91 98765 43210"
      },
      "canCancel": false,
      "timeWindowStatus": "fulfilled",
      "lineItems": [
        {
          "id": "line-1005-1",
          "productId": "prod-506",
          "sku": "HOODIE-BLACK-L",
          "title": "Cotton Hoodie - Black",
          "variant": "Black / Large",
          "quantity": 1,
          "price": 1799.00,
          "totalPrice": 1799.00
        }
      ]
    },
    {
      "id": "order-1006",
      "orderNumber": "#1006",
      "status": "open",
      "fulfillmentStatus": "unfulfilled",
      "paymentStatus": "paid",
      "financialStatus": "paid",
      "totalPrice": 1299.00,
      "subtotalPrice": 1099.00,
      "totalTax": 200.00,
      "totalShipping": 0.00,
      "createdAt": "2024-01-08T11:20:00Z",
      "updatedAt": "2024-01-08T11:20:00Z",
      "shippingAddress": {
        "name": "Rajesh Kumar",
        "address1": "123 MG Road",
        "address2": "Apt 4B",
        "city": "Bangalore",
        "state": "Karnataka",
        "zip": "560001",
        "country": "India",
        "phone": "+91 98765 43210"
      },
      "canCancel": false,
      "timeWindowStatus": "beyond_24hours",
      "lineItems": [
        {
          "id": "line-1006-1",
          "productId": "prod-507",
          "sku": "CAP-BASEBALL",
          "title": "Baseball Cap - Navy",
          "variant": "Navy Blue",
          "quantity": 1,
          "price": 1099.00,
          "totalPrice": 1099.00
        }
      ]
    },
    {
      "id": "order-1007",
      "orderNumber": "#1007",
      "status": "cancelled",
      "fulfillmentStatus": "unfulfilled",
      "paymentStatus": "refunded",
      "financialStatus": "refunded",
      "totalPrice": 2799.00,
      "subtotalPrice": 2499.00,
      "totalTax": 300.00,
      "totalShipping": 0.00,
      "createdAt": "2024-01-05T13:15:00Z",
      "updatedAt": "2024-01-05T14:00:00Z",
      "cancelledAt": "2024-01-05T14:00:00Z",
      "shippingAddress": {
        "name": "Rajesh Kumar",
        "address1": "123 MG Road",
        "address2": "Apt 4B",
        "city": "Bangalore",
        "state": "Karnataka",
        "zip": "560001",
        "country": "India",
        "phone": "+91 98765 43210"
      },
      "canCancel": false,
      "timeWindowStatus": "cancelled",
      "lineItems": [
        {
          "id": "line-1007-1",
          "productId": "prod-508",
          "sku": "JACKET-DENIM-M",
          "title": "Denim Jacket - Medium",
          "variant": "Medium",
          "quantity": 1,
          "price": 2499.00,
          "totalPrice": 2499.00
        }
      ]
    },
    {
      "id": "order-1008",
      "orderNumber": "#1008",
      "status": "pending",
      "fulfillmentStatus": "unfulfilled",
      "paymentStatus": "pending",
      "financialStatus": "pending",
      "totalPrice": 599.00,
      "subtotalPrice": 499.00,
      "totalTax": 100.00,
      "totalShipping": 0.00,
      "createdAt": "2024-01-14T18:00:00Z",
      "updatedAt": "2024-01-14T18:00:00Z",
      "shippingAddress": {
        "name": "Rajesh Kumar",
        "address1": "123 MG Road",
        "address2": "Apt 4B",
        "city": "Bangalore",
        "state": "Karnataka",
        "zip": "560001",
        "country": "India",
        "phone": "+91 98765 43210"
      },
      "canCancel": true,
      "timeWindowStatus": "within_1hour",
      "lineItems": [
        {
          "id": "line-1008-1",
          "productId": "prod-509",
          "sku": "SOCKS-PACK-3",
          "title": "Cotton Socks Pack (3 pairs)",
          "variant": "Assorted Colors",
          "quantity": 1,
          "price": 499.00,
          "totalPrice": 499.00
        }
      ]
    }
  ],
  "cancellationRequests": [
    {
      "id": "cancel-req-001",
      "orderId": "order-1001",
      "orderNumber": "#1001",
      "reason": "customer",
      "description": "Changed my mind about the purchase",
      "notes": "I found a better deal elsewhere",
      "status": "pending",
      "requestedAt": "2024-01-15T09:00:00Z",
      "timeWindowStatus": "within_15min",
      "estimatedApprovalTime": "instant"
    },
    {
      "id": "cancel-req-002",
      "orderId": "order-1002",
      "orderNumber": "#1002",
      "reason": "inventory",
      "description": "Item out of stock",
      "notes": null,
      "status": "processing",
      "requestedAt": "2024-01-14T15:00:00Z",
      "timeWindowStatus": "within_1hour",
      "estimatedApprovalTime": "quick"
    },
    {
      "id": "cancel-req-003",
      "orderId": "order-1003",
      "orderNumber": "#1003",
      "reason": "customer",
      "description": "Customer changed their mind",
      "notes": "Need to cancel due to financial constraints",
      "status": "pending",
      "requestedAt": "2024-01-13T11:00:00Z",
      "timeWindowStatus": "within_24hours",
      "estimatedApprovalTime": "escalated"
    }
  ],
  "cancellationRecords": [
    {
      "id": "cancel-rec-001",
      "orderId": "order-1004",
      "orderNumber": "#1004",
      "customerId": "cust-12345",
      "initiatedBy": "customer",
      "initiatedAt": "2024-01-12T17:00:00Z",
      "reason": "customer",
      "reasonDescription": "Changed my mind",
      "refundAmount": 899.00,
      "refundStatus": "completed",
      "refundTransactionId": "refund-txn-001",
      "restockDecision": true,
      "customerNotified": true,
      "completedAt": "2024-01-12T17:20:00Z",
      "status": "completed",
      "statusTimeline": [
        {
          "status": "pending",
          "timestamp": "2024-01-12T17:00:00Z",
          "message": "Cancellation request submitted"
        },
        {
          "status": "approved",
          "timestamp": "2024-01-12T17:05:00Z",
          "message": "Request approved automatically"
        },
        {
          "status": "processing",
          "timestamp": "2024-01-12T17:10:00Z",
          "message": "Processing refund"
        },
        {
          "status": "completed",
          "timestamp": "2024-01-12T17:20:00Z",
          "message": "Refund completed successfully"
        }
      ],
      "estimatedRefundTimeline": "3-5 business days"
    },
    {
      "id": "cancel-rec-002",
      "orderId": "order-1007",
      "orderNumber": "#1007",
      "customerId": "cust-12345",
      "initiatedBy": "customer",
      "initiatedAt": "2024-01-05T13:30:00Z",
      "reason": "inventory",
      "reasonDescription": "Item unavailable",
      "refundAmount": 2799.00,
      "refundStatus": "completed",
      "refundTransactionId": "refund-txn-002",
      "restockDecision": true,
      "customerNotified": true,
      "completedAt": "2024-01-05T14:00:00Z",
      "status": "completed",
      "statusTimeline": [
        {
          "status": "pending",
          "timestamp": "2024-01-05T13:30:00Z",
          "message": "Cancellation request submitted"
        },
        {
          "status": "approved",
          "timestamp": "2024-01-05T13:35:00Z",
          "message": "Request approved automatically"
        },
        {
          "status": "processing",
          "timestamp": "2024-01-05T13:40:00Z",
          "message": "Processing refund"
        },
        {
          "status": "completed",
          "timestamp": "2024-01-05T14:00:00Z",
          "message": "Refund completed successfully"
        }
      ],
      "estimatedRefundTimeline": "3-5 business days"
    },
    {
      "id": "cancel-rec-003",
      "orderId": "order-999",
      "orderNumber": "#999",
      "customerId": "cust-12345",
      "initiatedBy": "customer",
      "initiatedAt": "2024-01-03T10:00:00Z",
      "reason": "customer",
      "reasonDescription": "No longer needed",
      "refundAmount": 1499.00,
      "refundStatus": "completed",
      "refundTransactionId": "refund-txn-003",
      "restockDecision": true,
      "customerNotified": true,
      "completedAt": "2024-01-03T10:45:00Z",
      "status": "completed",
      "statusTimeline": [
        {
          "status": "pending",
          "timestamp": "2024-01-03T10:00:00Z",
          "message": "Cancellation request submitted"
        },
        {
          "status": "approved",
          "timestamp": "2024-01-03T10:05:00Z",
          "message": "Request approved automatically"
        },
        {
          "status": "processing",
          "timestamp": "2024-01-03T10:15:00Z",
          "message": "Processing refund"
        },
        {
          "status": "completed",
          "timestamp": "2024-01-03T10:45:00Z",
          "message": "Refund completed successfully"
        }
      ],
      "estimatedRefundTimeline": "3-5 business days"
    },
    {
      "id": "cancel-rec-004",
      "orderId": "order-998",
      "orderNumber": "#998",
      "customerId": "cust-12345",
      "initiatedBy": "customer",
      "initiatedAt": "2024-01-01T15:00:00Z",
      "reason": "other",
      "reasonDescription": "Duplicate order",
      "refundAmount": 899.00,
      "refundStatus": "processing",
      "refundTransactionId": "refund-txn-004",
      "restockDecision": true,
      "customerNotified": true,
      "completedAt": null,
      "status": "processing",
      "statusTimeline": [
        {
          "status": "pending",
          "timestamp": "2024-01-01T15:00:00Z",
          "message": "Cancellation request submitted"
        },
        {
          "status": "approved",
          "timestamp": "2024-01-01T15:10:00Z",
          "message": "Request approved after manual review"
        },
        {
          "status": "processing",
          "timestamp": "2024-01-01T15:15:00Z",
          "message": "Processing refund"
        }
      ],
      "estimatedRefundTimeline": "3-5 business days"
    },
    {
      "id": "cancel-rec-005",
      "orderId": "order-997",
      "orderNumber": "#997",
      "customerId": "cust-12345",
      "initiatedBy": "customer",
      "initiatedAt": "2023-12-28T09:00:00Z",
      "reason": "customer",
      "reasonDescription": "Changed my mind",
      "refundAmount": 1999.00,
      "refundStatus": "failed",
      "refundTransactionId": "refund-txn-005",
      "restockDecision": true,
      "customerNotified": true,
      "completedAt": "2023-12-28T10:00:00Z",
      "status": "failed",
      "statusTimeline": [
        {
          "status": "pending",
          "timestamp": "2023-12-28T09:00:00Z",
          "message": "Cancellation request submitted"
        },
        {
          "status": "approved",
          "timestamp": "2023-12-28T09:05:00Z",
          "message": "Request approved automatically"
        },
        {
          "status": "processing",
          "timestamp": "2023-12-28T09:10:00Z",
          "message": "Processing refund"
        },
        {
          "status": "failed",
          "timestamp": "2023-12-28T10:00:00Z",
          "message": "Refund processing failed - retrying"
        }
      ],
      "estimatedRefundTimeline": "3-5 business days",
      "failureReason": "Payment processor timeout"
    }
  ],
  "notifications": [
    {
      "id": "notif-001",
      "type": "cancellation_approved",
      "title": "Cancellation Approved",
      "message": "Your cancellation request for order #1002 has been approved",
      "orderId": "order-1002",
      "orderNumber": "#1002",
      "timestamp": "2024-01-14T15:30:00Z",
      "read": false,
      "actionUrl": "/orders/1002/cancellation"
    },
    {
      "id": "notif-002",
      "type": "refund_processing",
      "title": "Refund Processing",
      "message": "Your refund of ₹899.00 for order #1004 is being processed",
      "orderId": "order-1004",
      "orderNumber": "#1004",
      "timestamp": "2024-01-12T17:10:00Z",
      "read": true,
      "actionUrl": "/orders/1004/cancellation"
    },
    {
      "id": "notif-003",
      "type": "refund_completed",
      "title": "Refund Completed",
      "message": "Your refund of ₹2,799.00 for order #1007 has been completed",
      "orderId": "order-1007",
      "orderNumber": "#1007",
      "timestamp": "2024-01-05T14:00:00Z",
      "read": true,
      "actionUrl": "/orders/1007/cancellation"
    }
  ],
  "refundTransactions": [
    {
      "id": "refund-txn-001",
      "transactionId": "txn-shopify-abc123",
      "orderId": "order-1004",
      "orderNumber": "#1004",
      "amount": 899.00,
      "status": "completed",
      "paymentProcessor": "razorpay",
      "retryCount": 0,
      "createdAt": "2024-01-12T17:10:00Z",
      "completedAt": "2024-01-12T17:20:00Z",
      "estimatedCompletion": "2024-01-17T17:20:00Z"
    },
    {
      "id": "refund-txn-002",
      "transactionId": "txn-shopify-def456",
      "orderId": "order-1007",
      "orderNumber": "#1007",
      "amount": 2799.00,
      "status": "completed",
      "paymentProcessor": "razorpay",
      "retryCount": 0,
      "createdAt": "2024-01-05T13:40:00Z",
      "completedAt": "2024-01-05T14:00:00Z",
      "estimatedCompletion": "2024-01-10T14:00:00Z"
    },
    {
      "id": "refund-txn-003",
      "transactionId": "txn-shopify-ghi789",
      "orderId": "order-999",
      "orderNumber": "#999",
      "amount": 1499.00,
      "status": "completed",
      "paymentProcessor": "stripe",
      "retryCount": 0,
      "createdAt": "2024-01-03T10:15:00Z",
      "completedAt": "2024-01-03T10:45:00Z",
      "estimatedCompletion": "2024-01-08T10:45:00Z"
    },
    {
      "id": "refund-txn-004",
      "transactionId": "txn-shopify-jkl012",
      "orderId": "order-998",
      "orderNumber": "#998",
      "amount": 899.00,
      "status": "processing",
      "paymentProcessor": "razorpay",
      "retryCount": 0,
      "createdAt": "2024-01-01T15:15:00Z",
      "completedAt": null,
      "estimatedCompletion": "2024-01-06T15:15:00Z"
    },
    {
      "id": "refund-txn-005",
      "transactionId": "txn-shopify-mno345",
      "orderId": "order-997",
      "orderNumber": "#997",
      "amount": 1999.00,
      "status": "failed",
      "paymentProcessor": "paypal",
      "retryCount": 3,
      "createdAt": "2023-12-28T09:10:00Z",
      "completedAt": null,
      "estimatedCompletion": null,
      "failureReason": "Payment processor timeout"
    }
  ]
}



